<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <style>
      div{
        height: 40px;
        width: 300px;
        border: 1px solid black;
        margin: 5px;
      }
    </style>
  </head>
  <body>
  	<input id ="string">
    <script>
    //add
  //notify
  //update
  function Subject(){
  	this.list=[];
  }

  Subject.prototype.add = function(value){
  	this.list.push(value);
  };
  Subject.prototype.notify = function(value){
  	console.log('i am here');
  	for(var i = 0; i < this.list.length; i++){
  		this.list[i].update();
  	}
  };

  function Observer(value){
  	this.update=null;
  }

  var newUpdate = new Subject();
  var observer1 = new Observer();
  var observer2 = new Observer();
  observer1.update = function(){
  	console.log('observer1 fired');
  };
  observer2.update = function (){
  	console.log('observer2 fired');
  };
  newUpdate.add(observer1);
  newUpdate.add(observer2);
  //newUpdate.notify();

  var el = document.getElementById('string');

  el.addEventListener('keyup',function(){
  	newUpdate.notify();
  });

    </script>
  </body>
</html>
